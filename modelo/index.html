<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calcular Parámetros de Modelos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.4.4/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <h1>Calcular Parámetros de Modelos</h1>

    <!-- Paso 1: Ingresar cantidad de filas -->
    <div id="step1">
      <label for="numFilas">Cantidad de filas:</label>
      <input type="number" id="numFilas" name="numFilas" required />
      <button onclick="generateTable()">Generar Tabla</button>
    </div>

    <!-- Paso 2: Mostrar tabla -->
    <div id="step2" style="display: none">
      <table id="dataTable" border="1">
        <thead>
          <tr>
            <th>X (Rango)</th>
            <th>FOi (Frecuencia Observada)</th>
            <th>P(ki) (Probabilidad)</th>
            <th>FEi (Frecuencia Esperada)</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button onclick="calculateStats()">Calcular Estadísticas</button>
    </div>

    <!-- Paso 3: Mostrar estadísticas -->
    <div id="step3" style="display: none">
      <p>Promedio Muestral (x̄): <span id="mean"></span></p>
      <p>Desvío (S): <span id="stdDev"></span></p>
      <label for="modelSelect">Seleccionar Modelo:</label>
      <select id="modelSelect" onchange="calculateModelParams()">
        <option value="">Seleccione...</option>
        <option value="gumbel_max">Gumbel del Máximo</option>
        <option value="gumbel_min">Gumbel del Mínimo</option>
        <option value="weibull">Weibull</option>
        <option value="lognormal">Log-Normal</option>
        <option value="gamma">Gamma</option>
      </select>
      <div id="modelParams"></div>
    </div>

    <!-- Paso 4: Ingresar P(ki) y calcular FEi -->
    <div id="step4" style="display: none">
      <button onclick="calculateFEi()">Calcular FEi</button>
      <p id="warning" style="color: red"></p>
    </div>

    <script src="model_params.js"></script>
  </body>
</html>
